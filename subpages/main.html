<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>रविकल्प हॉस्पिटल</title>
  <!-- bootstrap 5 css -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
  <!-- BOX ICONS CSS-->
  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css" rel="stylesheet" />
  <!-- custom css -->
  <link rel="stylesheet" href="../frontend/css/main.css" />
  <link rel="stylesheet" href="../assets/css/global.css">
   <!-- Loader Css -->
   <link rel="stylesheet" href="../frontend/css/loader.css">
  <style>



/* Gradient Button */
.gradient-button {
  background: linear-gradient(45deg, #ff4d4d, #cc0000); /* Gradient background */
  color: white; /* Text color */
  border: none; /* Remove border */
  padding: 12px 24px; /* Padding for spacing */
  font-size: 16px; /* Font size */
  border-radius: 25px; /* Rounded corners */
  cursor: pointer; /* Pointer cursor on hover */
  transition: all 0.3s ease; /* Smooth transition for hover effect */
}

.gradient-button:hover {
  background: linear-gradient(45deg, #cc0000, #ff4d4d); /* Reverse gradient on hover */
  transform: scale(1.05); /* Slightly enlarge on hover */
}





    .treatment-history-tabs {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
}

.treatment-history-tabs button {
    padding: 10px 15px;
    border: none;
    cursor: pointer;
    background-color: lightgray;
}

.treatment-history-tabs button.active {
    background-color: green;
    color: white;
}

.treatment-history-content {
    display: none;
    padding: 20px;
    border: 1px solid #ccc;
}

.treatment-history-content.active {
    display: block;
}

    .surgical-history-tabs {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
}

.surgical-history-tabs button {
    padding: 10px 15px;
    border: none;
    cursor: pointer;
    background-color: lightgray;
}

.surgical-history-tabs button.active {
    background-color: green;
    color: white;
}

.surgical-history-content {
    display: none;
    padding: 20px;
    border: 1px solid #ccc;
}

.surgical-history-content.active {
    display: block;
}



          .symptoms-types, .diagnosis-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        .symptoms-types button, .diagnosis-buttons button {
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            background-color: lightgray;
        }
        .symptoms-types button.active, .diagnosis-buttons button.active {
            background-color:green;
            color: white;
        }
        .symptoms-content, .diagnosis-content {
            display: none;
            padding: 20px;
            border: 1px solid #ccc;
        }
        .symptoms-content.active, .diagnosis-content.active {
            display: block;
        }
        .options-table {
            display: none;
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            z-index: 1000;
        }

    .header {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .time {
      color: #ccc;
    }

    .card {
      display: flex;
      align-items: center;
      background-color: #fff;
      border-radius: 8px;
      padding: 15px;
      max-width: 400px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
      height: 70px;
    }

    .icon {
      background-color: #ffcc00;
      color: #000;
      font-weight: bold;
      font-size: 24px;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 15px;
    }

    .details h2 {
      font-size: 18px;
      margin-bottom: 5px;
    }

    .details p {
      font-size: 14px;
      margin-bottom: 3px;
    }

    .due {
      color: #ff0000;
      font-weight: bold;
    }
    

    /* Responsive Design */
    @media (max-width: 768px) {
      .card {
        flex-direction: column;
        align-items: flex-start;
      }

      .icon {
        margin-right: 0;
        margin-bottom: 10px;
      }
    }

   


  </style>

</head>

<!-- Code For Loader -->
<div id="loader-overlay">
  <div class="loader"></div>
  <p style="color: black;">Loading, please wait...</p>
</div>
<!-- Side-Nav -->
<div class="side-navbar active-nav d-flex justify-content-between flex-wrap flex-column" id="sidebar">
  <ul class="nav flex-column text-white w-90">
    <a href="#" class="nav-link h3 text-white my-2" style="text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5); font-weight: bold; display: inline-block; transform: perspective(500px) rotateX(10deg);">
      रविकल्प <span style="color: #ff0000; text-shadow: 3px 3px 5px rgba(255, 0, 0, 0.5);">हॉस्पिटल</span>
  </a>
  
<hr>
    <!-- Search Bar -->
    <!-- <li class="nav-item my-3 w-90">
      <input type="text" class="form-control" id="search-bar" placeholder="Search Patient..." />
    </li> -->

   <!-- Navigation Links for Upcoming Appointments and Dashboard History -->
  <!-- Navigation Links for Upcoming Appointments and Dashboard History -->
<li class="nav-item" style="margin-top: 0px;">
  <a href="./view_Appointments.html" class="nav-link text-white w-80 text-left" style="font-size: 16px; font-weight: 500; padding: 10px 15px; transition: background-color 0.3s;">
    Upcoming Appointments
  </a>

  <a href="./Patient_Detail.html" class="nav-link text-white w-80 text-left" style="font-size: 16px; font-weight: 500; padding: 10px 15px; transition: background-color 0.3s;">
    Update Patient Details
      </a>
    
</li>



    <!-- Add New Appointment Button -->
    <!-- <li class="nav-item mt-auto">
      <a href="./appointement.html" class="nav-link text-white w-80 text-left">
        <button class="btn btn-primary">New Appointment</button>
      </a>
    </li> -->
  </ul>
</div>

<!-- Main Wrapper -->
<div class="p-1 my-container active-cont">
  <!-- Top Nav -->
  <nav class="navbar top-navbar navbar-light bg-light px-5 d-flex justify-content-between align-items-center">
    <!-- Menu Button -->
    <div class="d-flex align-items-center">
      <a class="btn border-0" id="menu-btn"><i class="bx bx-menu" style="background-color: #fff;"></i></a>
      <div class="details" style="margin-left: 30px;">
        <h2 id="appointmentName" style="font-weight: bold;"></h2>
        <p style="font-weight: bold;">Patient id :- <span id="appointmentId" class="due"></span></p>
       
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="d-flex align-items-center gap-3">
      
     
   
     

         <!-- <h2><b style="display: inline-flex; text-align: center; justify-content: center;">रविकल्प हॉस्पिटल</b> </h2> -->
       
 
     



      <!-- Bill Button -->
      
      <!-- Add Receptionist Button -->
     <button class="print1-btn" id="only-print-btn">Print</button>
     <button class="btn btn-success" onclick="window.location.href='./bill.html';" id="add-receptionist-btn">Billing</button>
     <button class="btn btn-success" onclick="window.location.href='./Discharge_card.html';" id="add-receptionist-btn">Discharge Record</button>
     <button class="btn btn-success" onclick="window.location.href='./AcknowledgmentSlip.html';" id="add-receptionist-btn">Acknowledgement Slip</button> 
     <button class="print1-btn"  id="reset-btn" style="background-color: #ee5034;" type="button">Reset</button> 
     <button class="print1-btn"  id="close-appointment-btn" style="background-color: #ee3434;" type="button">Close Appointment</button> 
     


    </div>
  </nav>

 

  <!-- ######################### tebs start ########################### -->
  <div class="tabs" style="text-decoration: none;">
    <div class="tab active" data-target="summary">Summary</div>
    <div class="tab" data-target="symptoms">Symptoms / History</div>
    <div class="tab" data-target="vitals">Ophthal</div>
    <div class="tab" data-target="diagnosis">Diagnosis</div>
    <div class="tab" data-target="treatment">Treatment</div>
    <div class="tab" data-target="investigation">Investigation</div>
    <!-- <div class="tab" data-target="rx">Rx</div> -->
    <div class="tab" data-target="advice">Advice</div>
    <div class="tab" data-target="img">img</div>
    <!-- <div class="tab" data-target="Operative">PreOperative</div> -->

   
    <!-- Save and Print Button -->
    <button class="siv"  id="print-btn" class="print-button">Save and Print</button>
</div>

  <div class="container">
    <!-- Small Box in the Corner -->
    

   
</div>

  <!-- ######################### tebs end  ########################### -->


  <!-- ############################### summart start ####################### -->
  <div class="tab-content active" id="summary">
    <h2 class="text-center  mb-4" style="color: #000;">Patient Visit History</h2>
    <table class="table table-striped table-hover" style="width: 1200px;">
      <thead class="table-" style="background-color: rgb(68, 120, 225);">
          <tr>
              <th style="color: #fff;">Date</th>
              <th style="color: #fff;">Symptoms</th>
              <th style="color: #fff;">Action</th>
          </tr>
      </thead>
      <tbody id="visitHistoryTable">
          <!-- Patient history data will be dynamically inserted here -->
      </tbody>
  </table> 
  <h2 class="text-center  mb-4" style="color: #000;">Patient PDF File Records</h2> 
  <table class="table table-striped table-hover" style="width: 1200px;">
    <thead class="table-" style="background-color: rgb(68, 120, 225);">
        <tr>
            <th style="color: #fff;">Date</th>
            <th style="color: #fff;">PDF Available</th>
            <th style="color: #fff;">Action</th>
        </tr>
    </thead>
    <tbody id="pdfHistoryTable">
        <!-- Patient history data will be dynamically inserted here -->
    </tbody>
</table>  
  </div>
   


 


  <!-- ############################### summart end ####################### -->



  <!-- ############################### symptoms start ############################# -->

  <div class="tab-content" id="symptoms">



    <!-- Symptoms Tabs -->
    <div class="symptoms-types">
      <button id="bothBtn" onclick="showTab('both')">Both Eyes</button>
      <button id="leftBtn" onclick="showTab('left')">Left Eye</button>
      <button id="rightBtn" onclick="showTab('right')">Right Eye</button>
  </div>

  <div id="both" class="symptoms-content">
      <h2>Both Eyes Symptoms</h2>
      <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Symptoms Option">
        <button type="button" class="btn" onclick="addOption(this,'symptoms')">Add Option </button>
      </div>
      <div class="options-container active">
        <div class="symptoms" onclick="toggleSymptoms(this)">Blurry Vision (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Spot in Front of Eye (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Light Sensitivity (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Headache </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Floaters (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Pain in Eye (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Swelling on Lid (BE)
        </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Irritation (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">
          Itching (BE)
          </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Watering (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Night vision problem(BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Redness (BE)</div>
        
        <div class="symptoms" onclick="toggleSymptoms(this)">f.b.sensation (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">DOV (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">dryness in eye (BE)
        </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">
          double vision (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">lumps on eyelid (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">blood spot in eye (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">
          dilated pupil (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">drooping eyelid (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">chemosis (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Burning (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">swelling on lid (BE)
        </div>

        <div class="symptoms" onclick="toggleSymptoms(this)">pain around eyes (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">white ring around cornea (BE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">sudden loss of Vision (BE)
        </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Fleshy growth on Cornea (BE)</div>
        <!-- Add more options as needed -->
      </div>

  </div>
  <div id="left" class="symptoms-content">
      <h2>Left Eye Symptoms</h2>
      <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Symptoms Option">
        <button type="button" class="btn" onclick="addOption(this,'symptoms')">Add Option </button>
      </div>
      <!-- Content for Left Eye Symptoms -->
      <div class="options-container active " >
        <div class="symptoms" onclick="toggleSymptoms(this)">Blurry Vision (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Spot in Front of Eye (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Light Sensitivity (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Headache </div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Floaters (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Pain in Eye (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Swelling on Lid (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Irritation (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Itching (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Watering (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Night vision problem(LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Redness (LE)</div>
       
        <div class="symptoms" onclick="toggleSymptoms(this)">f.b.sensation (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">DOV (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Dryness in Eye (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Double Vision (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Lumps on Eyelid (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Blood Spot in Eye (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Dilated Pupil (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Drooping Eyelid (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Chemosis (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Burning (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Swelling on Lid (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Night vision problem (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Pain Around Eyes (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">White Ring Around Cornea (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Sudden Loss of Vision (LE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Fleshy Growth on Cornea (LE)</div>
        
        <!-- Add more options as needed -->
      </div>

  </div>

  <div id="right" class="symptoms-content">
      <h2>Right Eye Symptoms</h2>
      <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Symptoms Option">
        <button type="button" class="btn" onclick="addOption(this,'symptoms')">Add Option </button>
      </div>
      <div class="options-container active ">
        <div class="symptoms" onclick="toggleSymptoms(this)">Blurry Vision (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Spot in Front of Eye (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Light Sensitivity (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Headache</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Floaters (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Pain in Eye (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Swelling on Lid (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Irritation (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Itching (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Watering (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Night vision problem(RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Redness (RE)</div>
       
        <div class="symptoms" onclick="toggleSymptoms(this)">f.b.sensation (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">DOV (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Dryness in Eye (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Double Vision (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Lumps on Eyelid (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Blood Spot in Eye (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Dilated Pupil (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Drooping Eyelid (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Chemosis (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Burning (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Swelling on Lid (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Night vision problem (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Pain Around Eyes (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">White Ring Around Cornea (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Sudden Loss of Vision (RE)</div>
        <div class="symptoms" onclick="toggleSymptoms(this)">Fleshy Growth on Cornea (RE)</div>
        
        
      
      </div>

  </div>



    <div id="medical-history-section" style="margin-top: 20px; ">
      <h3>Medical History</h3>
      
  <div class="flex-container">
    <input type="text" class="input-field" placeholder="Enter New Medical History Option">
    <button type="button" class="btn" onclick="addOption2(this,'medicalHistory')">Add Option </button>
  </div>
      <div class="options-container" style="display: flex;">
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Diabetes</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Hypertension</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Asthma</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Paralysis Attack</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">IHD </div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Jaundice</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Koch's </div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">Cancer</div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">CABG </div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">PTCA </div>
        <div class="medicalHistory" onclick="toggleMedicalHistory(this)">pt is on antiplatelet</div>
        
      </div>
      
    </div>

    <hr>


  


<!-- Surgical History Tabs -->
<div class="surgical-history-tabs" >
  <button id="both-surgery-btn" onclick="showSurgeryTab('both')">Both Eyes</button>
  <button id="right-surgery-btn" onclick="showSurgeryTab('right')">Right Eye</button>
  <button id="left-surgery-btn" onclick="showSurgeryTab('left')">Left Eye</button>
</div>

<!-- Surgical History Content -->
<div id="both-surgery-content" class="surgical-history-content"style="margin-bottom: 7%;">
  <h2>Both Eye Surgical History</h2>
  <div class="flex-container">
    <input type="text" class="input-field" placeholder="Enter New Surgical History Option">
    <button type="button" class="btn" onclick="addOption(this,'surgicalHistory')">Add Option </button>
  </div>
      <div class="options-container active">
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Cataract Surgery(BE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">LASIK (BE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Retinal Detachment Repair(BE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Corneal Transplant(BE)</div>
      </div>
</div>

<div id="right-surgery-content" class="surgical-history-content">
  <h2>Right Eye Surgical History</h2>
  <div class="flex-container">
    <input type="text" class="input-field" placeholder="Enter New Surgical History Option">
    <button type="button" class="btn" onclick="addOption(this,'surgicalHistory')">Add Option </button>
  </div>
      <div class="options-container active">
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Cataract Surgery(RE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">LASIK (RE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Retinal Detachment Repair(RE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Corneal Transplant(RE)</div>
      </div>

</div>

<div id="left-surgery-content" class="surgical-history-content">
  <h2>Left Eye Surgical History</h2>
  <div class="flex-container">
    <input type="text" class="input-field" placeholder="Enter New Surgical History Option">
    <button type="button" class="btn" onclick="addOption(this,'surgicalHistory')">Add Option </button>
  </div>
      <div class="options-container active">
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Cataract Surgery(LE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">LASIK (LE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Retinal Detachment Repair(LE)</div>
        <div class="surgicalHistory" onclick="toggleSurgicalHistory(this)">Corneal Transplant(LE)</div>
      </div>
</div>



<script>
  function showSurgeryTab(eye) {
      const contents = document.querySelectorAll('.surgical-history-content');
      const buttons = document.querySelectorAll('.surgical-history-tabs button');

      contents.forEach(content => content.style.display = 'none');
      buttons.forEach(button => button.classList.remove('active'));

      document.getElementById(eye + '-surgery-content').style.display = 'block';
      document.getElementById(eye + '-surgery-btn').classList.add('active');
  }

  // Default: Show Both Eyes Surgical History on load
  showSurgeryTab('both');
</script>


 

    

  

   

  </div> 


  <!-- Medical History Section -->
  <!-- 
<div id="medical-history-section"  >
  <h3>Medical History</h3>
  <div class="options-container"style="display: flex;" >
    <div class="option">Diabetes</div>
    <div class="option">Hypertension</div>
    <div class="option">Glaucoma</div>
    <div class="option">Cataract Surgery</div>
    <div class="option">Lasik Surgery</div>
    <div class="option">Retinal Detachment</div>
    <div class="option">Thyroid Issues</div>
    <div class="option">Migraine</div>
    <div class="option">Sinusitis</div>
    <div class="option">Arthritis</div>
    <div class="option">Asthma</div>
    <div class="option">Cancer</div>
    <div class="option">Allergies</div>
    <div class="option">Stroke</div>
    <div class="option">Heart Disease</div>
    <div class="option">Kidney Problems</div>
    <div class="option">Pregnancy</div>
    <div class="option">Smoking</div>
    <div class="option">Alcohol Consumption</div>
  </div>
</div>

</div> -->

  <!-- ############################### symptoms end ############################# -->




  <!-- ################################# Ophthal start ############################### -->

  <!-- ################################# Ophthal start ############################### -->



  <div class="tab-content" id="vitals">
    <h3> Ophthal</h3>

    <!-- ##################### ophtal tabs start ############################################# -->
    <div class="tabs">
      <div class="ttab" data-section="section1">Visual Acuity</div>
      <div class="ttab" data-section="section9">AR</div>
      <div class="ttab" data-section="section2">Old Power Glass</div>
      <!-- <div class="ttab" data-section="section3">Pupillary Reaction</div> -->
      <div class="ttab" data-section="section5">Refraction</div>
      <div class="ttab" data-section="section4">Examination</div>
  
      <!-- <div class="ttab" data-section="section6">IOP/GAT</div> -->
      <!-- <div class="ttab" data-section="section7">Topography</div> -->
      <!-- <div class="ttab" data-section="section8">A-Scan</div> -->
    
    </div>

    <!-- ##################### ophtal tabs end ############################################# -->

    <!-- 
  ################################### start visual acuity section ############################ -->
    <div id="section1" class="section active">
      <h3>Visual Acuity</h3>

      <!-- Main Vision Table -->
      <table class="vision-table">
        <thead>
          <tr>
            <th></th>
            <th>Right Eye</th>
            <th>Left Eye</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Unaided</td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="UnaidedR" readonly></td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="UnaidedL" readonly></td>
          </tr>
          <tr>
            <td>Glasses</td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="GlassesR" readonly></td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="GlassesL" readonly></td>
          </tr>
          <tr>
            <td>Near Vision</td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable2')" id="NearVisionR" readonly></td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable2')" id="NearVisionL" readonly></td>
          </tr>
          <tr>
            <td>Pinhole Vision</td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="PinholeR" readonly></td>
            <td><input type="text" onfocus="showOptions(event, 'myOptionsTable')" id="PinholeL" readonly></td>
          </tr>
        </tbody>
      </table>

      <table id="myOptionsTable" style="display: none; width: 14.2%;" class="options-table">
        <tr>
          <td>6/6</td>
          <td>6/6p</td>
          <td>6/7.5</td>
          <td>6/7.5P</td>
        </tr>
        <tr>
          <td>6/9</td>
          <td>6/9p</td>
          <td>6/12</td>
          <td>6/12p</td>
        </tr>
        <tr>
          <td>6/15</td>
          <td>6/15p</td>
          <td>6/18</td>
          <td>6/18p</td>
        </tr>
        <tr>
          <td>6/24</td>
          <td>6/24p</td>
          <td>6/30</td>
          <td>6/30p</td>
        </tr>
        <tr>
          <td>6/36</td>
          <td>6/36p</td>
          <td>6/48</td>
          <td>6/60</td>
        </tr>
      </table>

      <!-- Corrected the id here (removed the extra space) -->
      <table id="myOptionsTable2" style="display: none; width: 10%" class="options-table">
        <tr>
          <td>N-5</td>
          <td>N-6</td>
          <td>N-8</td>
        </tr>
        <tr>
          <td>N-10</td>
          <td>N-12</td>
          <td>N-14</td>
        </tr>
        <tr>
          <td>N-18</td>
          <td>N-24</td>
          <td>N-36</td>
        </tr>
      </table>

    </div>

    <!-- ################################### end visual acuity section ############################ -->

    <!-- ##################################Current Power Glasses start ################################### -->

    <div id="section2" class="section">


      <!-- Step 3: Current Power Glasses -->

      <div class="form-step" id="step-3">
        <h3>Old Power Glass :</h3>
        <div class="form-group">
          <h3 ></h3>
          <table id="Current-Power-Table" style="width: 50%; margin-left: 140px;">
            <thead>
              <tr>
                <th></th>
                <th colspan="4">Right Eye</th>
                <th colspan="4">Left Eye</th>
              </tr>
            </thead>
            <thead>
              <tr>
                <th></th>
                <th>SPH</th>
                <th>CYL</th>
                <th>Axis</th>
                <th>V/A</th>
                <th>SPH</th>
                <th>CYL</th>
                <th>Axis</th>
                <th>V/A</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>DV</td>
                <td><input type="text" id="DVSPH"  style="width: 70px;"></td>
                <td><input type="text" id="DVCYL"  style="width: 70px;"></td>
                <td><input type="text" id="DVAxis"  style="width: 70px;"></td>
                <td><input type="text" id="DVVA" style="width: 70px;"/></td>
                <td><input type="text" id="DVSPH2" style="width: 70px;" /></td>
                <td><input type="text" id="DVCYL2" style="width: 70px;"/></td>
                <td><input type="text" id="DVAxis2" style="width: 70px;" /></td>
                <td><input type="text" id="DVVA2" style="width: 70px;" /></td>
              </tr>
              <tr>
                <td>NV</td>
                <td><input type="text" id="NVSPH" style="width: 70px;"/></td>
                <td><input type="text" id="NVCYL" style="width: 70px;"/></td>
                <td><input type="text" id="NVAxis"style="width: 70px;" /></td>
                <td><input type="text" id="NVVA" style="width: 70px;"/></td>
                <td><input type="text" id="NVSPH2" style="width: 70px;"/></td>
                <td><input type="text" id="NVCYL2" style="width: 70px;"/></td>
                <td><input type="text" id="NVAxis2" style="width: 70px;"/></td>
                <td><input type="text" id="NVVA2"style="width: 70px;"/></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>


      <!-- optionsTable teble fast start -->

      <div id="optionsTable" class="options-table " >
        <table class="table table-bordered table-striped" style="width: 100%; height: 100%;">
            <!-- Table Head -->
            <thead>
                <tr>
                    <th colspan="6">-ve</th>
                    <th colspan="6">+ve</th>
                </tr>
            </thead>
            <!-- Table Body -->
            <tbody>
                <tr>
                    <td>-0.00</td>
                    <td>-0.25</td>
                    <td>-0.50</td>
                    <td>-0.75</td>
                    <td>-1.00</td>
                    <td>-1.25</td>
                    <td>+0.00</td>
                    <td>+0.25</td>
                    <td>+0.50</td>
                    <td>+0.75</td>
                    <td>+1.00</td>
                    <td>+1.25</td>
                </tr>
                <tr>
                    <td>-1.50</td>
                    <td>-1.75</td>
                    <td>-2.00</td>
                    <td>-2.25</td>
                    <td>-2.50</td>
                    <td>-2.75</td>
                    <td>+1.50</td>
                    <td>+1.75</td>
                    <td>+2.00</td>
                    <td>+2.25</td>
                    <td>+2.50</td>
                    <td>+2.75</td>
                </tr>
                <tr>
                    <td>-3.00</td>
                    <td>-3.25</td>
                    <td>-3.50</td>
                    <td>-3.75</td>
                    <td>-4.00</td>
                    <td>-4.25</td>
                    <td>+3.00</td>
                    <td>+3.25</td>
                    <td>+3.50</td>
                    <td>+3.75</td>
                    <td>+4.00</td>
                    <td>+4.25</td>
                </tr>
                <tr>
                    <td>-4.50</td>
                    <td>-4.75</td>
                    <td>-5.00</td>
                    <td>-5.25</td>
                    <td>-5.50</td>
                    <td>-5.75</td>
                    <td>+4.50</td>
                    <td>+4.75</td>
                    <td>+5.00</td>
                    <td>+5.25</td>
                    <td>+5.50</td>
                    <td>+5.75</td>
                </tr>
                <tr>
                    <td>-6.00</td>
                    <td>-6.25</td>
                    <td>-6.50</td>
                    <td>-6.75</td>
                    <td>-7.00</td>
                    <td>-7.25</td>
                    <td>+6.00</td>
                    <td>+6.25</td>
                    <td>+6.50</td>
                    <td>+6.75</td>
                    <td>+7.00</td>
                    <td>+7.25</td>
                </tr>
                <tr>
                    <td>-7.50</td>
                    <td>-7.75</td>
                    <td>-8.00</td>
                    <td>-8.25</td>
                    <td>-8.50</td>
                    <td>-8.75</td>
                    <td>+7.50</td>
                    <td>+7.75</td>
                    <td>+8.00</td>
                    <td>+8.25</td>
                    <td>+8.50</td>
                    <td>+8.75</td>
                </tr>
                <tr>
                    <td>-9.00</td>
                    <td>-9.25</td>
                    <td>-9.50</td>
                    <td>-10.00</td>
                    <td>-10.50</td>
                    <td>-11.00</td>
                    <td>+9.00</td>
                    <td>+9.25</td>
                    <td>+9.50</td>
                    <td>+10.00</td>
                    <td>+10.50</td>
                    <td>+11.00</td>
                </tr>
                <tr>
                    <td>-11.50</td>
                    <td>-12.00</td>
                    <td>-12.50</td>
                    <td>-13.00</td>
                    <td>-13.50</td>
                    <td>-14.00</td>
                    <td>+11.50</td>
                    <td>+12.00</td>
                    <td>+12.50</td>
                    <td>+13.00</td>
                    <td>+13.50</td>
                    <td>+14.00</td>
                </tr>
                <tr>
                    <td>-14.50</td>
                    <td>-15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>+14.50</td>
                    <td>+15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
      <!-- optionsTable teble fast end -->

      <table id="axisOptionsTable" style="display: none; width: 450px" class="options-table">
        <tr>
          <td>0</td>
          <td>5</td>
          <td>10</td>
          <td>15</td>
          <td>20</td>
          <td>25</td>
          <td>30</td>
          <td>35</td>
          <td>40</td>
          <td>45</td>
        </tr>
        <tr>
          <td>50</td>
          <td>55</td>
          <td>60</td>
          <td>65</td>
          <td>70</td>
          <td>75</td>
          <td>80</td>
          <td>85</td>
          <td>90</td>
          <td>95</td>
        </tr>
        <tr>
          <td>100</td>
          <td>105</td>
          <td>110</td>
          <td>115</td>
          <td>120</td>
          <td>125</td>
          <td>130</td>
          <td>135</td>
          <td>140</td>
          <td>145</td>
        </tr>
        <tr>
          <td>150</td>
          <td>155</td>
          <td>160</td>
          <td>165</td>
          <td>170</td>
          <td>175</td>
          <td>180</td>
        </tr>
      </table>



      <table id="NV-VATable" style="display: none; width: 14.2%;" class="options-table">
        <tr>
          <td>6/6</td>
          <td>6/6p</td>
          <td>6/7.5</td>
          <td>6/7.5P</td>
        </tr>
        <tr>
          <td>6/9</td>
          <td>6/9p</td>
          <td>6/12</td>
          <td>6/12p</td>
        </tr>
        <tr>
          <td>6/15</td>
          <td>6/15p</td>
          <td>6/18</td>
          <td>6/18p</td>
        </tr>
        <tr>
          <td>6/24</td>
          <td>6/24p</td>
          <td>6/30</td>
          <td>6/30p</td>
        </tr>
        <tr>
          <td>6/36</td>
          <td>6/36p</td>
          <td>6/48</td>
          <td>6/60</td>
        </tr>
      </table>

      <table id="NVDVATable" style="display: none; width: 10%" class="options-table">
        <tr>
          <td>N-5</td>
          <td>N-6</td>
          <td>N-8</td>
        </tr>
        <tr>
          <td>N-10</td>
          <td>N-12</td>
          <td>N-14</td>
        </tr>
        <tr>
          <td>N-18</td>
          <td>N-24</td>
          <td>N-36</td>
        </tr>
      </table>



    </div>

    <!-- 
    ##################################Current Power Glasses END  ################################### -->


    <!-- ###################################Pupillary Reaction start ################################## -->

    <!-- <div id="section3" class="section">
      <h2>Pupillary Reaction</h2>
      <table>
        <thead>
          <tr>
            <th colspan="2">Right Eye</th>
            <th colspan="2">Left Eye</th>
          </tr>
          <tr>
            <th>Direct</th>
            <th>Consensual</th>
            <th>Direct</th>
            <th>Consensual</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" placeholder=""></td>
            <td><input type="text" placeholder=""></td>
            <td><input type="text" placeholder=""></td>
            <td><input type="text" placeholder=""></td>
          </tr>
        </tbody>
      </table>
    </div> -->



    <!-- <!-- ###################################Pupillary Reaction start ################################## -->

    <!-- 
    ############################################ eye Examination start #################################### -->
    <div id="section4" class="section">
      <h3>Eye Examination:</h3>
      <table class="table-container table-responsive" style=" height: 200px;
overflow-y: auto; width: 50%;">
        <thead>
          <tr>
            <th scope="col" style="width: 10%;"></th>
            <th scope="col" style="width: 10%;">Right Eye</th>
            <th scope="col" style="width: 10%;">Left Eye</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Eyelids & Adnexa</td>
            <td><input type="text" class="form-control" id="EyelidsR"></td>
            <td><input type="text" class="form-control" id="EyelidsL"></td>
          </tr>
          
          <tr>
            <td>Conjunctiva</td>
            <td><input type="text" class="form-control" id="ConjunctivaR"></td>
            <td><input type="text" class="form-control" id="ConjunctivaL"></td>
          </tr>
          <tr>
            <td>Sclera</td>
            <td><input type="text" class="form-control" id="ScleraR"></td>
            <td><input type="text" class="form-control" id="ScleraL"></td>
          </tr>
          <tr>
            <td>Cornea</td>
            <td><input type="text" class="form-control" id="CorneaR"></td>
            <td><input type="text" class="form-control" id="CorneaL"></td>
          </tr>
          <tr>
            <td>Anterior Chamber</td>
            <td><input type="text" class="form-control" id="AnteriorR"></td>
            <td><input type="text" class="form-control" id="AnteriorL"></td>
          </tr>
          <tr>
            <td>Iris</td>
            <td><input type="text" class="form-control" id="IrisR"></td>
            <td><input type="text" class="form-control" id="IrisL"></td>
          </tr>
          <tr>
            <td>Pupil</td>
            <td><input type="text" class="form-control" id="PupilR"></td>
            <td><input type="text" class="form-control" id="PupilL"></td>
          </tr>
          <tr>
            <td>Lens</td>
            <td><input type="text" class="form-control" id="LensR"></td>
            <td><input type="text" class="form-control" id="LensL"></td>
          </tr>
          
          <tr>
             <td>Fundus</td>
            <td><input type="text" class="form-control" id="FundusR"></td>
            <td><input type="text" class="form-control" id="FundusL"></td>
          </tr>

        </tbody>
      </table>
    </div>


    <!-- ############################################ eye Examination end #################################### -->

    <!-- 
######################################################Refraction start ################################### -->

    <div id="section5" class="section">
      <h3>Refraction</h3>
      <table  style="width: 48%; margin-left: 140px;">
        <thead>
          <tr>
            <th rowspan="2"></th>
            <th colspan="4">Right Eye</th>
            <th colspan="4">Left Eye</th>
          </tr>
          <tr>
            <th>SPH</th>
            <th>CYL</th>
            <th>Axis</th>
            <th>V/A</th>
            <th>SPH</th>
            <th>CYL</th>
            <th>Axis</th>
            <th>V/A</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Distance</td>
            <td><input type="text" name="DistanceSPH" id="rSPH" style="width: 70px;" ></td>
            <td><input type="text" name="DistanceCYL" id="rCYL" style="width: 70px;"></td>
            <td><input type="text" name="DistanceAxis" onfocus="showOptions(event, 'nRefraction')" style="width: 70px;"></td>
            <td><input type="text" name="DistanceVA" id="rV/A" style="width: 70px;"></td>
            <td><input type="text" name="DistanceSPH2" id="lrSPH" style="width: 70px;"></td>
            <td><input type="text" name="DistanceCYL2" id="lrCYL" style="width: 70px;"></td>
            <td><input type="text" name="DistanceAxis2" onfocus="showOptions(event, 'nRefraction')" style="width: 70px;"></td>
            <td><input type="text" name="DistanceVA2" id="rV/A2" style="width: 70px;"></td>
          </tr>
          <tr>
            <td>Near</td>
            <td><input type="text" name="NearSPH" id="rSPH1" style="width: 70px;"></td>
            <td><input type="text" name="NearCYL" id="rCYL1" style="width: 70px;"></td>
            <td><input type="text" name="NearAxis" onfocus="showOptions(event, 'nRefraction')" style="width: 70px;"></td>
            <td><input type="text" name="NearVA" id="rva2"style="width: 70px;" ></td>
            <td><input type=" text" name="NearSPH2" id="lrSPH2" style="width: 70px; height: 40px;"></td>
            <td><input type="text" name="NearCYL2" id="lrCYL2" style="width: 70px;"></td>
            <td><input type="text" name="NearAxis2" onfocus="showOptions(event, 'nRefraction')" style="width: 70px;"></td>
            <td><input type="text" name="NearVA2" id="rva2" style="width: 70px;"></td>
          </tr>
          <!-- <tr>
            <td>IPD (mm)</td>
            <td colspan="4"><input type="text" id="REIPD" name="REIPD"></td>
            <td colspan="4"><input type="text" id="LEIPD" name="LEIPD"></td>
          </tr> -->
          <tr>
            <td>Type of Glass</td>
            <td colspan="4">
                <select id="RETypeOfGlass" name="RETypeOfGlass" style="width: 100%; padding: 5px;">
                    <option value="">Select</option>
                    <option value="Single Vision">Single Vision</option>
                    <option value="Bifocal">Bifocal</option>
                    <option value="Kryptok">Kryptok</option>
                    <option value="PhotoSun">PhotoSun</option>
                    <option value="Hardcoat">Hardcoat</option>
                    <option value="Blue Block">Blue Block</option>
                    <option value="ARC">ARC</option>
                    
                </select>
            </td>
            <td colspan="4">
                <select id="LETypeOfGlass" name="LETypeOfGlass" style="width: 100%; padding: 5px;">
                    <option value="" style="width: 400px;">Select</option>
                    <option value="Single Vision">Single Vision</option>
                    <option value="Bifocal">Bifocal</option>
                    <option value="Kryptok">Kryptok</option>
                    <option value="PhotoSun">PhotoSun</option>
                    <option value="Hardcoat">Hardcoat</option>
                    <option value="Blue Block">Blue Block</option>
                    <option value="ARC">ARC</option>
                    
                </select>
            </td>
        </tr>
        
          <!-- <tr>
            <td>Remark</td>
            <td colspan="4"><input type="text" id="RERemark" name="RERemark"></td>
            <td colspan="4"><input type="text" id="LERemark" name="LERemark"></td>
          </tr> -->
        </tbody>
      </table>


      <table id="nRefraction" style="display: none; width: 450px" class="options-table">
        <tr>
          <td>0</td>
          <td>5</td>
          <td>10</td>
          <td>15</td>
          <td>20</td>
          <td>25</td>
          <td>30</td>
          <td>35</td>
          <td>40</td>
          <td>45</td>
        </tr>
        <tr>
          <td>50</td>
          <td>55</td>
          <td>60</td>
          <td>65</td>
          <td>70</td>
          <td>75</td>
          <td>80</td>
          <td>85</td>
          <td>90</td>
          <td>95</td>
        </tr>
        <tr>
          <td>100</td>
          <td>105</td>
          <td>110</td>
          <td>115</td>
          <td>120</td>
          <td>125</td>
          <td>130</td>
          <td>135</td>
          <td>140</td>
          <td>145</td>
        </tr>
        <tr>
          <td>150</td>
          <td>155</td>
          <td>160</td>
          <td>165</td>
          <td>170</td>
          <td>175</td>
          <td>180</td>
        </tr>
      </table>


      <table id="nRefraction1" style="display: none; width: 10%" class="options-table">
        <tr>
          <td>N-5</td>
          <td>N-6</td>
          <td>N-8</td>
        </tr>
        <tr>
          <td>N-10</td>
          <td>N-12</td>
          <td>N-14</td>
        </tr>
        <tr>
          <td>N-18</td>
          <td>N-24</td>
          <td>N-36</td>
        </tr>
      </table>




      <table id="nRefraction3" style="display: none; width: 14.2%;" class="options-table">
        <tr>
          <td>6/6</td>
          <td>6/6p</td>
          <td>6/7.5</td>
          <td>6/7.5P</td>
        </tr>
        <tr>
          <td>6/9</td>
          <td>6/9p</td>
          <td>6/12</td>
          <td>6/12p</td>
        </tr>
        <tr>
          <td>6/15</td>
          <td>6/15p</td>
          <td>6/18</td>
          <td>6/18p</td>
        </tr>
        <tr>
          <td>6/24</td>
          <td>6/24p</td>
          <td>6/30</td>
          <td>6/30p</td>
        </tr>
        <tr>
          <td>6/36</td>
          <td>6/36p</td>
          <td>6/48</td>
          <td>6/60</td>
        </tr>
      </table>



      <!-- optionsTable teble fast start -->

      <div id="nRefraction2" class="options-table " >
        <table class="table table-bordered table-striped" style="width: 100%; height: 100%;">
            <!-- Table Head -->
            <thead>
                <tr>
                    <th colspan="6">-ve</th>
                    <th colspan="6">+ve</th>
                </tr>
            </thead>
            <!-- Table Body -->
            <tbody>
                <tr>
                    <td>-0.00</td>
                    <td>-0.25</td>
                    <td>-0.50</td>
                    <td>-0.75</td>
                    <td>-1.00</td>
                    <td>-1.25</td>
                    <td>+0.00</td>
                    <td>+0.25</td>
                    <td>+0.50</td>
                    <td>+0.75</td>
                    <td>+1.00</td>
                    <td>+1.25</td>
                </tr>
                <tr>
                    <td>-1.50</td>
                    <td>-1.75</td>
                    <td>-2.00</td>
                    <td>-2.25</td>
                    <td>-2.50</td>
                    <td>-2.75</td>
                    <td>+1.50</td>
                    <td>+1.75</td>
                    <td>+2.00</td>
                    <td>+2.25</td>
                    <td>+2.50</td>
                    <td>+2.75</td>
                </tr>
                <tr>
                    <td>-3.00</td>
                    <td>-3.25</td>
                    <td>-3.50</td>
                    <td>-3.75</td>
                    <td>-4.00</td>
                    <td>-4.25</td>
                    <td>+3.00</td>
                    <td>+3.25</td>
                    <td>+3.50</td>
                    <td>+3.75</td>
                    <td>+4.00</td>
                    <td>+4.25</td>
                </tr>
                <tr>
                    <td>-4.50</td>
                    <td>-4.75</td>
                    <td>-5.00</td>
                    <td>-5.25</td>
                    <td>-5.50</td>
                    <td>-5.75</td>
                    <td>+4.50</td>
                    <td>+4.75</td>
                    <td>+5.00</td>
                    <td>+5.25</td>
                    <td>+5.50</td>
                    <td>+5.75</td>
                </tr>
                <tr>
                    <td>-6.00</td>
                    <td>-6.25</td>
                    <td>-6.50</td>
                    <td>-6.75</td>
                    <td>-7.00</td>
                    <td>-7.25</td>
                    <td>+6.00</td>
                    <td>+6.25</td>
                    <td>+6.50</td>
                    <td>+6.75</td>
                    <td>+7.00</td>
                    <td>+7.25</td>
                </tr>
                <tr>
                    <td>-7.50</td>
                    <td>-7.75</td>
                    <td>-8.00</td>
                    <td>-8.25</td>
                    <td>-8.50</td>
                    <td>-8.75</td>
                    <td>+7.50</td>
                    <td>+7.75</td>
                    <td>+8.00</td>
                    <td>+8.25</td>
                    <td>+8.50</td>
                    <td>+8.75</td>
                </tr>
                <tr>
                    <td>-9.00</td>
                    <td>-9.25</td>
                    <td>-9.50</td>
                    <td>-10.00</td>
                    <td>-10.50</td>
                    <td>-11.00</td>
                    <td>+9.00</td>
                    <td>+9.25</td>
                    <td>+9.50</td>
                    <td>+10.00</td>
                    <td>+10.50</td>
                    <td>+11.00</td>
                </tr>
                <tr>
                    <td>-11.50</td>
                    <td>-12.00</td>
                    <td>-12.50</td>
                    <td>-13.00</td>
                    <td>-13.50</td>
                    <td>-14.00</td>
                    <td>+11.50</td>
                    <td>+12.00</td>
                    <td>+12.50</td>
                    <td>+13.00</td>
                    <td>+13.50</td>
                    <td>+14.00</td>
                </tr>
                <tr>
                    <td>-14.50</td>
                    <td>-15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>+14.50</td>
                    <td>+15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
      <!-- optionsTable teble fast end -->
    </div>

    <!-- 
######################################################Refraction end ################################### -->

<!-- 
    <div id="section6" class="section">
      <h3>IOP/GAT</h3>
      <table>
        <thead>
          <tr>
            <th colspan="2">Right Eye</th>
            <th colspan="2">Left Eye</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="input-wrapper">
              <input type="text" placeholder="" style="width: 150px;">
              <span>mmHg</span>
            </td>
            <td><input type="text" value="00:00" style="width: 150px;"></td>
            <td class="input-wrapper">
              <input type="text" placeholder="" style="width: 150px;">
              <span>mmHg</span>
            </td>
            <td><input type="text" value="00:00" style="width: 150px;"></td>
          </tr>
        </tbody>
      </table>
    </div> -->






    <div id="section7" class="section">
      <h3>Topography</h3>
      <table>
        <thead>
          <tr>
            <th></th>
            <th colspan="2">Right Eye</th>
            <th colspan="2">Left Eye</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>IOP</td>
            <td><input type="text" name="right_iop" id="RightIOP"></td>
            <td class="unit">mmHg</td>
            <td><input type="text" name="left_iop" id="LeftIOP"></td>
            <td class="unit">mmHg</td>
          </tr>
          <tr>
            <td>Pachymetry</td>
            <td><input type="text" name="right_pachymetry" id="RightPachymetry"></td>
            <td class="unit">µm</td>
            <td><input type="text" name="left_pachymetry" id="LeftPachymetry"></td>
            <td class="unit">µm</td>
          </tr>
          <tr>
            <td>Steepest K</td>
            <td><input type="text" name="right_steepest_k" id="RightSteepest"></td>
            <td></td>
            <td><input type="text" name="left_steepest_k" id="LeftSteepest"></td>
            <td></td>
          </tr>
          <tr>
            <td>Flattest K</td>
            <td><input type="text" name="right_flattest_k" id="RightFlattest"></td>
            <td></td>
            <td><input type="text" name="left_flattest_k" id="LeftFlattest"></td>
            <td></td>
          </tr>
          <tr>
            <td>Av.K</td>
            <td><input type="text" name="right_av_k" id="RightAv"></td>
            <td></td>
            <td><input type="text" name="left_av_k" id="LeftAv"></td>
            <td></td>
          </tr>
          <tr>
            <td>Cly Power</td>
            <td><input type="text" name="right_cly_power" id="RightClyPower"></td>
            <td></td>
            <td><input type="text" name="left_cly_power" id="LeftClyPower"></td>
            <td></td>
          </tr>
          <tr>
            <td>Degree</td>
            <td><input type="text" name="right_degree" id="RightDegree"></td>
            <td></td>
            <td><input type="text" name="left_degree" id="LeftDegree"></td>
            <td></td>
          </tr>
          <tr>
            <td>KSI/KCI</td>
            <td><input type="text" name="right_ksi_kci" id="RightKSIKCI"></td>
            <td></td>
            <td><input type="text" name="left_ksi_kci" id="LeftKSIKCI"></td>
            <td></td>
          </tr>
          <tr>
            <td>Schirmer Test</td>
            <td><input type="text" name="right_schirmer_test" id="RightSchirmerTest"></td>
            <td></td>
            <td><input type="text" name="left_schirmer_test" id="LeftSchirmerTest"></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>



<!-- 

    <div id="section8" class="section">
      <h3>A-Scan</h3>
      <table>
        <thead>
          <tr>
            <th></th>
            <th>Right Eye</th>
            <th>Left Eye</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>K1</td>
            <td><input type="text" name="right_k1"></td>
            <td><input type="text" name="left_k1"></td>
          </tr>
          <tr>
            <td>K2</td>
            <td><input type="text" name="right_k2"></td>
            <td><input type="text" name="left_k2"></td>
          </tr>
          <tr>
            <td>LT</td>
            <td><input type="text" name="right_lt"></td>
            <td><input type="text" name="left_lt"></td>
          </tr>
          <tr>
            <td>AL</td>
            <td><input type="text" name="right_al"></td>
            <td><input type="text" name="left_al"></td>
          </tr>
          <tr>
            <td>ACD</td>
            <td><input type="text" name="right_acd"></td>
            <td><input type="text" name="left_acd"></td>
          </tr>
          <tr>
            <td>L.Power</td>
            <td><input type="text" name="right_lpower"></td>
            <td><input type="text" name="left_lpower"></td>
          </tr>
          <tr>
            <td>A.Constant</td>
            <td><input type="text" name="right_a_constant"></td>
            <td><input type="text" name="left_a_constant"></td>
          </tr>
        </tbody>
      </table>

    </div> -->



    <div id="section9" class="section">
      <h3>AR</h3>
      <table style="margin-left: 60px; width: 30%;">  
        <thead>
          <tr>
            <th colspan="5">Right Eye</th>
            <th colspan="5">Left Eye</th>
          </tr>
          <tr>
            <th>SPH</th>
            <th>CYL</th>
            <th>Axis</th>
            <th>V/A</th>
            <th>DV</th>
            <th>SPH</th>
            <th>CYL</th>
            <th>Axis</th>
            <th>V/A</th>
            <th>DV</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" id="ar1SPH" name="ARSPH" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="ar1CYL" name="ARCYL" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="arAxis" name="ARAxis" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="arV/A" onclick="openTable(this)" name="ARVA" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="ar1DV" name="ARDV" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="ar1SPH1" name="ARSPH2" style="width:68px;height: 40px;"></td>
            <td><input type=" text"id="ar1CYL1" style="width:68px;height: 40px;" name="ARCYL2"></td>
            <td><input type="text" id="arAxis1" name="ARAxis2" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="arV/A1" onclick="openTable(this)" name="ARVA2" style="width:68px;height: 40px;"></td>
            <td><input type="text" id="ar1DV1" name="ARDV2" style="width:68px;height: 40px;"></td>
          </tr>
          <tr>
            <th colspan="2">IPD (mm)</th>
            <td colspan="6"><input type="text" placeholder="Enter IPD" id="ARIPD" name="ARIPD"></td>
          </tr>
        </tbody>
      </table>
    </div>




    <table id="arRefraction" style="display: none; width: 450px" class="options-table">
      <tr>
        <td>0</td>
        <td>5</td>
        <td>10</td>
        <td>15</td>
        <td>20</td>
        <td>25</td>
        <td>30</td>
        <td>35</td>
        <td>40</td>
        <td>45</td>
      </tr>
      <tr>
        <td>50</td>
        <td>55</td>
        <td>60</td>
        <td>65</td>
        <td>70</td>
        <td>75</td>
        <td>80</td>
        <td>85</td>
        <td>90</td>
        <td>95</td>
      </tr>
      <tr>
        <td>100</td>
        <td>105</td>
        <td>110</td>
        <td>115</td>
        <td>120</td>
        <td>125</td>
        <td>130</td>
        <td>135</td>
        <td>140</td>
        <td>145</td>
      </tr>
      <tr>
        <td>150</td>
        <td>155</td>
        <td>160</td>
        <td>165</td>
        <td>170</td>
        <td>175</td>
        <td>180</td>
      </tr>
    </table>



    <div id="raRefraction3" class="options-table " >
        <table class="table table-bordered table-striped" style="width: 100%; height: 100%;">
            <!-- Table Head -->
            <thead>
                <tr>
                    <th colspan="6">-ve</th>
                    <th colspan="6">+ve</th>
                </tr>
            </thead>
            <!-- Table Body -->
            <tbody>
                <tr>
                    <td>-0.00</td>
                    <td>-0.25</td>
                    <td>-0.50</td>
                    <td>-0.75</td>
                    <td>-1.00</td>
                    <td>-1.25</td>
                    <td>+0.00</td>
                    <td>+0.25</td>
                    <td>+0.50</td>
                    <td>+0.75</td>
                    <td>+1.00</td>
                    <td>+1.25</td>
                </tr>
                <tr>
                    <td>-1.50</td>
                    <td>-1.75</td>
                    <td>-2.00</td>
                    <td>-2.25</td>
                    <td>-2.50</td>
                    <td>-2.75</td>
                    <td>+1.50</td>
                    <td>+1.75</td>
                    <td>+2.00</td>
                    <td>+2.25</td>
                    <td>+2.50</td>
                    <td>+2.75</td>
                </tr>
                <tr>
                    <td>-3.00</td>
                    <td>-3.25</td>
                    <td>-3.50</td>
                    <td>-3.75</td>
                    <td>-4.00</td>
                    <td>-4.25</td>
                    <td>+3.00</td>
                    <td>+3.25</td>
                    <td>+3.50</td>
                    <td>+3.75</td>
                    <td>+4.00</td>
                    <td>+4.25</td>
                </tr>
                <tr>
                    <td>-4.50</td>
                    <td>-4.75</td>
                    <td>-5.00</td>
                    <td>-5.25</td>
                    <td>-5.50</td>
                    <td>-5.75</td>
                    <td>+4.50</td>
                    <td>+4.75</td>
                    <td>+5.00</td>
                    <td>+5.25</td>
                    <td>+5.50</td>
                    <td>+5.75</td>
                </tr>
                <tr>
                    <td>-6.00</td>
                    <td>-6.25</td>
                    <td>-6.50</td>
                    <td>-6.75</td>
                    <td>-7.00</td>
                    <td>-7.25</td>
                    <td>+6.00</td>
                    <td>+6.25</td>
                    <td>+6.50</td>
                    <td>+6.75</td>
                    <td>+7.00</td>
                    <td>+7.25</td>
                </tr>
                <tr>
                    <td>-7.50</td>
                    <td>-7.75</td>
                    <td>-8.00</td>
                    <td>-8.25</td>
                    <td>-8.50</td>
                    <td>-8.75</td>
                    <td>+7.50</td>
                    <td>+7.75</td>
                    <td>+8.00</td>
                    <td>+8.25</td>
                    <td>+8.50</td>
                    <td>+8.75</td>
                </tr>
                <tr>
                    <td>-9.00</td>
                    <td>-9.25</td>
                    <td>-9.50</td>
                    <td>-10.00</td>
                    <td>-10.50</td>
                    <td>-11.00</td>
                    <td>+9.00</td>
                    <td>+9.25</td>
                    <td>+9.50</td>
                    <td>+10.00</td>
                    <td>+10.50</td>
                    <td>+11.00</td>
                </tr>
                <tr>
                    <td>-11.50</td>
                    <td>-12.00</td>
                    <td>-12.50</td>
                    <td>-13.00</td>
                    <td>-13.50</td>
                    <td>-14.00</td>
                    <td>+11.50</td>
                    <td>+12.00</td>
                    <td>+12.50</td>
                    <td>+13.00</td>
                    <td>+13.50</td>
                    <td>+14.00</td>
                </tr>
                <tr>
                    <td>-14.50</td>
                    <td>-15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>+14.50</td>
                    <td>+15.00</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>

   
    <!-- optionsTable teble fast end -->

    <table id="raRefraction" style="display: none;width: 14.2%;" class="options-table">
      <tr>
        <td onclick="selectValue(this)">6/6</td>
        <td onclick="selectValue(this)">6/6p</td>
        <td onclick="selectValue(this)">6/7.5</td>
        <td onclick="selectValue(this)">6/7.5P</td>
      </tr>
      <tr>
        <td onclick="selectValue(this)">6/9</td>
        <td onclick="selectValue(this)">6/9p</td>
        <td onclick="selectValue(this)">6/12</td>
        <td onclick="selectValue(this)">6/12p</td>
      </tr>
      <tr>
        <td onclick="selectValue(this)">6/15</td>
        <td onclick="selectValue(this)">6/15p</td>
        <td onclick="selectValue(this)">6/18</td>
        <td onclick="selectValue(this)">6/18p</td>
      </tr>
      <tr>
        <td onclick="selectValue(this)">6/24</td>
        <td onclick="selectValue(this)">6/24p</td>
        <td onclick="selectValue(this)">6/30</td>
        <td onclick="selectValue(this)">6/30p</td>
      </tr>
      <tr>
        <td onclick="selectValue(this)">6/36</td>
        <td onclick="selectValue(this)">6/36p</td>
        <td onclick="selectValue(this)">6/48</td>
        <td onclick="selectValue(this)">6/60</td>
      </tr>
    </table>



  </div>

  <!-- 
############################### Ophthal end ############################################# -->
  <!-- 
################################ Diagnosis star ######################################## -->
<div class="tab-content" id="diagnosis">

    <!-- Diagnosis Buttons -->
    <div class="diagnosis-buttons">
      <button id="both-diagnosis-btn" onclick="showDiagnosisContent('both')">Both Eyes</button>
      <button id="right-diagnosis-btn" onclick="showDiagnosisContent('right')">Right Eye</button>
      <button id="left-diagnosis-btn" onclick="showDiagnosisContent('left')">Left Eye</button>
  </div>

  <div id="both-diagnosis-content" class="diagnosis-content">
      <h2>Both Eyes Diagnosis</h2>
       <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Diagnosis Option">
        <button type="button" class="btn" onclick="addOption(this,'diagnosis')">Add Option</button>
    </div>
      <div id="diagnosis-options" class="options-container" style="display: flex;">
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Myopia(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Blepharitis(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Hypermetropia(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Edema(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Astigmatism(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Hole(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Stye(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Pucker(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Chalazion (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Presbyopia (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Conjunctivitis (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Refractive Errors (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Glaucoma (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinal Detachment (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Age-related Macular Degeneration (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Pseudophakia (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinitis Pigmentosa (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Aphakia (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">ROP (Retinopathy of Prematurity) (BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Diabetic Retinopathy(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Iritis(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Uveitis(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Amblyopia(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Vitreous Detachment(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Color Blindness(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Immature Senile Cataract(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Esotropia(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Exotropia(BE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Convergent Squint(BE)</div>
      </div>
     
  
  </div>

  <div id="right-diagnosis-content" class="diagnosis-content">
      <h2>Right Eye Diagnosis</h2>
      <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Diagnosis Option">
        <button type="button" class="btn" onclick="addOption(this,'diagnosis')">Add Option</button>
    </div>
      <div id="diagnosis-options" class="options-container" style="display: flex; flex-wrap: wrap;">
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Myopia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Blepharitis (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Hypermetropia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Edema (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Astigmatism (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Hole (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Stye (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Pucker (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Chalazion (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Presbyopia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Conjunctivitis (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Refractive Errors (BE)</div> <!-- This remains unchanged -->
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Glaucoma (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinal Detachment (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Age-related Macular Degeneration (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Pseudophakia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinitis Pigmentosa (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Aphakia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">ROP (Retinopathy of Prematurity) (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Diabetic Retinopathy (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Iritis (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Uveitis (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Amblyopia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Vitreous Detachment (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Color Blindness (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Immature Senile Cataract (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Esotropia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Exotropia (RE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Convergent Squint (RE)</div>
    </div>
    
  </div>

  <div id="left-diagnosis-content" class="diagnosis-content">
      <h2>Left Eye Diagnosis</h2>
      <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Diagnosis Option">
        <button type="button" class="btn" onclick="addOption(this,'diagnosis')">Add Option</button>
    </div>
      <div id="diagnosis-options" class="options-container" style="display: flex; flex-wrap: wrap;">
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Myopia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Blepharitis (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Hypermetropia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Edema (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Astigmatism (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Hole (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Stye (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Macular Pucker (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Chalazion (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Presbyopia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Conjunctivitis (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Refractive Errors (BE)</div> <!-- This remains unchanged -->
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Glaucoma (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinal Detachment (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Age-related Macular Degeneration (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Pseudophakia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Retinitis Pigmentosa (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Aphakia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">ROP (Retinopathy of Prematurity) (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Diabetic Retinopathy (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Iritis (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Uveitis (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Amblyopia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Vitreous Detachment (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Color Blindness (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Immature Senile Cataract (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Esotropia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Alternate Exotropia (LE)</div>
        <div class="diagnosis" onclick="toggleDiagnosis(this)">Convergent Squint (LE)</div>
    </div>
    
  </div>
  </div>

<!-- Treatment Section -->
 
<div class="tab-content" id="treatment">
<!-- Treatment History Tabs -->
<div class="treatment-history-tabs">
  <button id="medication-btn" onclick="showTreatmentTab('medication')">Medication</button>
  <button id="surgical-btn" onclick="showTreatmentTab('surgical')">Surgical</button>
</div>

<!-- Treatment History Content -->
<div id="medication-content" class="treatment-history-content">
  <h2>Medical Treatment</h2> 
  <!-- <div id="treatment-options" class="options-container" style="display: flex; flex-wrap: wrap;">
    <div class="medication-treatment" onclick="toggleMedicationTreatment(this)">Eye Drops</div>
    <div class="medication-treatment" onclick="toggleMedicationTreatment(this)">Eye Drops</div>
    <div class="medication-treatment" onclick="toggleMedicationTreatment(this)">Antibiotics</div>
</div> -->

 <!-- Medicine list container -->
 <div id="medicine-list"></div>

 <button class="add-entry-btn" type="button" onclick="addMedicineEntry()">Add Medicine Entry</button>

</div>

<div id="surgical-content" class="treatment-history-content">
  <h2>Surgical Treatment</h2>
  <div class="flex-container">
    <input type="text" class="input-field" placeholder="Enter New Surgical Treatment Option">
    <button type="button" class="btn" onclick="addOption2(this,'surgical-treatment')" >Add Option </button>
  </div>
  <div id="treatment-options" class="options-container" style="display: flex; flex-wrap: wrap;">
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">RE Cataract Surgery With IOL Under LA</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">LE Cataract Surgery With IOL Under LA</div><br>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">RE Pterygium Exision With Autograft Under LA/Topical</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">LE Pterygium Exision With Autograft Under LA/Topical</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">RE Cataract With Trabeculectomy Combined Surgery Under LA</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">LE Cataract With Trabeculectomy Combined Surgery Under LA</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">RE Cataract Surgery With Pterygium Exision With Autograft Under LA</div>
    <div class="surgical-treatment" onclick="toggleSurgicalTreatment(this)">LE Cataract Surgery With Pterygium Exision With Autograft Under LA</div>

</div>
<div id="preOperativeWorkup">
  <h2>Pre-Operative Workup Investigations</h2>
  
  <!-- Form container -->
  <form>
      <!-- First Row: BP and Pulse Rate -->
      <div class="row form-row">
          <div class="col-md-6 form-group">
              <label for="BPResult" class="form-label">BP =</label>
              <input type="text" id="BPResult" class="form-control" placeholder="Enter BP" oninput="insertUnit(this)">
          </div>
          <div class="col-md-6 form-group">
              <label for="PulseRate" class="form-label">P =</label>
              <input type="text" id="PulseRate" class="form-control" placeholder="Enter Pulse Rate" oninput="insertPulseUnit(this)">
          </div>
      </div>

      <!-- Second Row: Sac and NCT -->
      <div class="row form-row">
          <div class="col-md-3 form-group">
            <label for="SACResultRE" class="form-label">SAC = </label>

              <label for="SACResultRE" class="form-label">RE:</label>
              <select id="SACResultRE"  style="width: 40%;">
                <option value="" style="width: 400px;">Select</option>
                <option value="Patent">Patent</option>
                <option value="PBCR">PBCR</option>
                <option value="CBCR">CBCR</option>
                <option value="Roplase">Roplase</option>
            </select>
          </div>
          <div class="col-md-3 form-group" >
              <label for="SACResultLE" class="form-label">LE:</label>
              <select id="SACResultLE"  style="width: 40%;">
                <option value="" style="width: 400px;">Select</option>
                <option value="Patent">Patent</option>
                <option value="PBCR">PBCR</option>
                <option value="CBCR">CBCR</option>
                <option value="Roplase">Roplase</option>
            </select>
          </div>
      </div>

    
     
  </form>
  <h3>A-Scan</h3>
  <table>
    <thead>
      <tr>
        <th></th>
        <th>Right Eye</th>
        <th>Left Eye</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>K1</td>
        <td><input type="text" name="right_k1" id="RightK1"></td>
        <td><input type="text" name="left_k1" id="LeftK1"></td>
      </tr>
      <tr>
        <td>K2</td>
        <td><input type="text" name="right_k2" id="RightK2"></td>
        <td><input type="text" name="left_k2" id="LeftK2"></td>
      </tr>
      <tr>
        <td>LT</td>
        <td><input type="text" name="right_lt" id="RightLT"></td>
        <td><input type="text" name="left_lt" id="LeftLT"></td>
      </tr>
      <tr>
        <td>AxL</td>
        <td><input type="text" name="right_al" id="RightAL"></td>
        <td><input type="text" name="left_al" id="LeftAL"></td>
      </tr>
      <tr>
        <td>ACD</td>
        <td><input type="text" name="right_acd" id="RightACD"></td>
        <td><input type="text" name="left_acd" id="LeftACD"></td>
      </tr>
      <tr style="display: none;">
        <td>L.Power</td>
        <td><input type="text" name="right_lpower" id="RightLPower"></td>
        <td><input type="text" name="left_lpower" id="LeftLPower"></td>
      </tr>
      <tr>
        <td>A.Constant</td>
        <td><input type="text" name="right_a_constant" id="RightAConstant"></td>
        <td><input type="text" name="left_a_constant" id="LeftAConstant"></td>
      </tr>
      <tr>
        <td>IOL</td>
        <td><input type="text" name="right_iol" id="RightIOL"></td>
        <td><input type="text" name="left_iol" id="LeftIOL"></td>
      </tr>
    </tbody>
  </table>

  <h3>NCT</h3>
  <table style="width: 1000px;">
    <thead>
      <tr>
        <th colspan="2">Right Eye</th>
        <th colspan="2">Left Eye</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="input-wrapper">
          <input type="text" placeholder="" style="width: 150px;" id="RightmmHg">
          <span>mmHg</span>
        </td>
        <td><input type="text" value="" style="width: 150px;" id="RightmmHgTime"></td>
        <td class="input-wrapper">
          <input type="text" placeholder="" style="width: 150px;" id="LeftmmHg">
          <span>mmHg</span>
        </td>
        <td><input type="text" value="" style="width: 150px;" id="LeftmmHgTime"></td>
      </tr>
    </tbody>
  </table>
  </div>
</div>

<script>
  function showTreatmentTab(type) {
      const contents = document.querySelectorAll('.treatment-history-content');
      const buttons = document.querySelectorAll('.treatment-history-tabs button');

      contents.forEach(content => content.style.display = 'none');
      buttons.forEach(button => button.classList.remove('active'));

      document.getElementById(type + '-content').style.display = 'block';
      document.getElementById(type + '-btn').classList.add('active');
  }

  // Default: Show Medication History on load
  showTreatmentTab('medication');
  function toggleMedical(element) {
        
        // Add 'selected' class to the clicked element
        element.classList.add('selected');
    }

</script>

</div>

  <!-- ################################ Diagnosis End ######################################## -->

  <!-- ###################################### investigation start ################################ -->


  <div class="tab-content" id="investigation">

    <!-- Investigation Section -->
    <div class="section-title" style="font-size: 25px;">Investigation:</div>
    <div class="flex-container">
      <input type="text" class="input-field" placeholder="Enter New Investigation Option">
      <button type="button" class="btn" onclick="addOption2(this,'investigation')">Add Option </button>
    </div>

    <div class="tags-container" id="investigation-tags">
      <!-- Selected Tags Will Appear Here -->
    </div>
    <div id="diagnosis-options" class="options-container" style="display: flex;">
      <div class="investigation" onclick="toggleInvestigation(this)">CBC</div>
      <div class="investigation" onclick="toggleInvestigation(this)">BSL (R)</div>
      <div class="investigation" onclick="toggleInvestigation(this)">BSL (fasting)</div>
      <div class="investigation" onclick="toggleInvestigation(this)">BSL (postprandial)</div>
      <div class="investigation" onclick="toggleInvestigation(this)">HBSAg</div>
      <div class="investigation" onclick="toggleInvestigation(this)">HIV</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Urine (R)</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Hemoglobin</div>
      <div class="investigation" onclick="toggleInvestigation(this)">WBC</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Platelet</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Uric Acid</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Sr. Creat</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Sr. Urea</div>
      <div class="investigation" onclick="toggleInvestigation(this)">Uric Acid</div>
    </div>
   
   
  </div>

  <!-- ###################################### investigation end  ################################ -->


  <!-- ###################################### Rx start ################################ -->
  <!-- <div class="tab-content" id="rx" style="height: 100vh;">
  
   
->
    <div id="medicine-list"></div>

    <button class="add-entry-btn" type="button" onclick="addMedicineEntry()">Add Medicine Entry</button>

  </div> -->

  <!-- ###################################### Rx end ################################ -->


  <!-- ###################################### advice start ################################ -->
  <div class="tab-content" id="advice">
    <div class="section-title" style="font-size: 25px;">Advice:</div>
    <div class="flex-container">
        <input type="text" class="input-field" placeholder="Enter New Advice Option">
        <button type="button" class="btn" onclick="addOption2(this,'advice')">Add Option</button>
    </div>
    <div class="tags-container" id="advice-tags">
      <div id="diagnosis-options" class="options-container" style="display: flex;">
       


 <div class="advice" onclick="toggleAdvices(this)">21दिवस डोक्यावरून अंघोळ करू नये. डोळ्याला हात,रुमाल लावू नये. दिलेल्या wet wipes ने च डोळा स्वच्छ करावा.
</div>
<div class="advice" onclick="toggleAdvices(this)">कपाळाला कुंकू-टिक्का लावू नये. टिकली लावली तर चालेल.
</div>
<div class="advice" onclick="toggleAdvices(this)"> केसांना तेल लावू शकतात हळुवार केसं विंचरून केस डोळ्यात जाणार नाही याची काळजी घेणे.
</div>
<div class="advice" onclick="toggleAdvices(this)">चष्मा नेहमी लावून ठेवणे, 2 दिवस नंतर रात्री झोपताना चष्मा काढून झोपले तरी चालेल.
</div>
<div class="advice" onclick="toggleAdvices(this)">खाणे-पिणे साठी कोणते ही अपथ्य नाही... तुम्ही जे रोज जेवणं करता ते सर्व करू शकतात.
</div>


<div class="advice" onclick="toggleAdvices(this)">घरात लहान मुलं असल्यास दूर ठेवणे.</div>
<div class="advice" onclick="toggleAdvices(this)">सर्व नॉर्मल असेल तर ऑपेरेशन नंतर दोन वेळा तपासणी असते....
  5 दिवसानंतर आणि ..
  21 दिवसानंतर....दुसऱ्या तपासणी ला चष्मा नंबर काढून दिला जाईल.
  
  
</div>
<div class="advice" onclick="toggleAdvices(this)">तुमच्या नेहमीच्या काही गोळ्या चालू असतील तर त्या अश्याच चालू ठेवणे त्यात बदल करू नये.

</div>
<div class="advice" onclick="toggleAdvices(this)">महिनाभर मध्ये आजारी पडल्यास लगेच नेहमीच्या डॉक्टर ला दाखविणे.

</div>
<div class="advice" onclick="toggleAdvices(this)">एक महिन्यात अचानक डोळ्याला सूज आली, नजर कमी झाली, दुखायला लागल्यास ताबडतोब हॉस्पिटल च्या नंबर वर कॉल करणे....

</div>
<div class="advice" onclick="toggleAdvices(this)">दिलेले ड्रॉप व औषधी आजपासून आता पासून सांगितल्या प्रमाणे चालू करणे.

</div>

      </div>
    </div>
</div>


  <!-- ###################################### advice  end  ################################ -->
  <div class="tab-content " id="img">
   

    <div class="container">
      <div class="upload-container" id="uploadContainer">
          <h3>Upload Your Image</h3>
          <p>Drag & drop an image or click below to upload</p>
          <label for="imageUpload">Choose Image</label>
          <input type="file" id="imageUpload" accept="image/*">
      </div>
  
      <!-- Image preview will appear outside the upload box -->
      <div id="imagePreview" style="text-align: center;">
          <h3>Selected Image</h3>
          <img id="previewImg" src="" alt="Image Preview">
          <button class="gradient-button" style="display: none; margin: auto; margin-top: 20px;" id="delete-image-btn" type="button">
            ✖ Delete Image
          </button>
      </div>
  </div>



  


</div>
<!-- Summary Alert (Initially Hidden) -->
<div id="historyAlert" class="custom-alert" style="display: none;">
  <span id="alertMessage" style="flex-grow: 1;">Patient History Opened for </span>
  <button class="alert-btn" onclick="window.location.href='./Summary.html';" type="button">Summary👁️</button>
  <button class="alert-btn" onclick="closeHistoryAlert()" id="closeHistory-btn" type="button">Close History</button>
</div>



</div>
</div>


 <!-- Three Buttons -->







<!-- Popup Form for Patient Details -->
<div class="popup" id="patientFormPopup">
  <div class="popup-content">
    <span class="close-btn" id="closePopupBtn">&times;</span>
    <h2>Add Patient Details</h2>
    <form id="patientForm">
      <div class="form-group">
        <label for="visitDate">Visit Date</label>
        <input type="date" id="visitDate" name="visitDate" required>
      </div>
      <div class="form-group">
        <label for="patientName">Patient Name</label>
        <input type="text" id="patientName" name="patientName" required>
      </div>

      <div class="form-group">
        <label for="gender">Gender</label>
        <select id="gender" name="gender" required>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label for="mobileNo">Mobile No.</label>
        <input type="tel" id="mobileNo" name="mobileNo" placeholder="+91">
      </div>
      <div class="form-group">
        <label for="address">Address</label>
        <textarea id="address" name="address" rows="3"></textarea>
      </div>
      <div class="form-group">
        <button type="submit" class="btn">Save Patient</button>
      </div>
    </form>
  </div>
</div>
</div>


<!-- Popup Form for Patient Details end -->



<script>
  // Function to add a new medicine entry row
  function addMedicineEntry() {
      const medicineList = document.getElementById("medicine-list");

      // Create a new medicine entry container
      const entry = document.createElement("div");
      entry.className = "medicine-entry";

      // Set the HTML for the new entry
      entry.innerHTML = `
          <select class="medicine-select">
              <option value="" disabled selected>Select Medicine</option>
              <option value="Hydrakem Efdrop">Hydrakem Efdrop</option>
              <option value="Resync Eyedrop">Resync Eyedrop</option>
              <option value="Gatiquin P Eldrop">Gatiquin P Eldrop</option>
              <option value="Kaimorst Eyedrop">Kaimorst Eyedrop</option>
              <option value="Gate P. Eye drop">Gate P. Eye drop</option>
              <option value="Sotime">Sotime</option>
              <option value="Admox LP Eye drop">Admox LP Eye drop</option>
              <option value="Corosol XG Eld">Corosol XG Eld</option>
              <option value="Moxosft Eyedrop">Moxosft Eyedrop</option>
              <option value="Myatro Eld">Myatro Eld</option>
              <option value="Veldrop Eyedrop">Veldrop Eyedrop</option>
              <option value="Maha Flox LP Eld">Maha Flox LP Eld</option>
              <option value="Nepamax Eye drop">Nepamax Eye drop</option>
              <option value="Addtear Eld">Addtear Eld</option>
              <option value="Ocupol Eye ointment">Ocupol Eye ointment</option>
              <option value="Flagel Eld">Flagel Eld</option>
              <option value="Azithral Eye Ointment">Azithral Eye Ointment</option>
              <option value="Netacin Eld">Netacin Eld</option>
              <option value="Ocupol Dx Eye oint">Ocupol Dx Eye oint</option>
              <option value="Trokid Eld">Trokid Eld</option>
              <option value="Homide Eye drop">Homide Eye drop</option>
              <option value="Mofleren-D Eld">Mofleren-D Eld</option>
              <option value="Tobastar Eye drop">Tobastar Eye drop</option>
              <option value="Moxam-D Eld">Moxam-D Eld</option>
              <option value="Tab. Ciprobid 500">Tab. Ciprobid 500</option>
              <option value="I-Dew Eld">I-Dew Eld</option>
              <option value="Tab. Combiflam">Tab. Combiflam</option>
              <option value="Tab. Diamox 250">Tab. Diamox 250</option>
              <option value="Tab. Genmox 625">Tab. Genmox 625</option>
              <option value="K-Tear Eld">K-Tear Eld</option>
              <option value="Albrim T Eld">Albrim T Eld</option>
          </select>

          <select class="medicine-dose">
              <option value="" disabled selected>Select Dose</option>
              <option value="1-1-1">1-1-1</option>
              <option value="1-0-1">1-0-1</option>
              <option value="0-0-1">0-0-1</option>
              <option value="0-0-0-0">0-0-0-0</option>
              <option value="0-0-0">0-0-0</option>
              <option value="0-0">0-0</option>
              <option value="1-0-1">1-0-0</option>
          </select>

          <!-- <input type="number" class="medicine-quantity" placeholder="Quantity" min="1"> -->

          <button type="button" class="remove-btn">Remove</button>
      `;

      // Append the new entry to the list
      medicineList.appendChild(entry);

      // Add event listener to remove button
      entry.querySelector(".remove-btn").addEventListener("click", function () {
        entry.remove();
      });
      
  }
</script>


<!-- bootstrap js -->
<script src="../frontend/js/script.js"></script>

<script src="../backend/main_Summary.js"></script>

<script type="module" src="../backend/store_Hostory.js"></script>



<script>
  var menu_btn = document.querySelector("#menu-btn");
  var sidebar = document.querySelector("#sidebar");
  var container = document.querySelector(".my-container");
  menu_btn.addEventListener("click", () => {
    sidebar.classList.toggle("active-nav");
    container.classList.toggle("active-cont");
  });

</script>
<script>
  // Open the popup form when the button is clicked
 

  // Close the popup when the close button is clicked
  document.getElementById('closePopupBtn').addEventListener('click', function () {
    document.getElementById('patientFormPopup').style.display = 'none';
  });

  // Close the popup if the user clicks outside the form
  window.addEventListener('click', function (event) {
    const popup = document.getElementById('patientFormPopup');
    if (event.target === popup) {
      popup.style.display = 'none';
    }
  });

  // Auto-fill visit date with today's date
  document.getElementById('visitDate').valueAsDate = new Date();

  // Pre-fill country code for mobile number and validate
  // document.getElementById('mobileNo').addEventListener('focus', function () {
  //   if (!this.value.startsWith('+91')) {
  //     this.value = '+91';
  //   }
  // });

  // document.getElementById('mobileNo').addEventListener('input', function () {
  //   if (!this.value.startsWith('+91')) {
  //     this.value = '+91';
  //   }
  // });

</script>

<script>
  // JavaScript for tab functionality
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', function () {
      // Remove active class from all tabs
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      // Add active class to clicked tab
      this.classList.add('active');

      // Hide all tab content
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
      // Show the target content
      const target = this.getAttribute('data-target');
      document.getElementById(target).classList.add('active');
    });
  });





  // ipc back butotn 
  const backButton = document.getElementById('exit');
  backButton.addEventListener('click',async ()=>{
      // Trigger confirmation dialog for logout
    const response = await window.electronAPI.showMessageBox(
      "warning",
      "Are you sure you want to logout?",
      "Logout",
      ["Yes", "No"]
    );

  if (response === 1) {
      return;
  }
      // Clear user data from local storage
      localStorage.removeItem("user");

    window.electronAPI.navigateBack();
  })

</script>

 <script>
let currentInputField = null; // Track the active input field
const nRefraction2Table = document.getElementById('nRefraction2'); // Table element

// Function to show the table for a specific input field
function attachInputFieldListener(inputId) {
  const inputField = document.getElementById(inputId);
  inputField.addEventListener('click', (event) => {
    if (currentInputField !== event.target) {
      // Hide the table if a different input field is clicked
      nRefraction2Table.style.display = 'none';
    }
    currentInputField = event.target; // Set the active input field
    const rect = inputField.getBoundingClientRect();
    nRefraction2Table.style.top = rect.bottom + 'px';
    nRefraction2Table.style.left = rect.left + 'px';
    nRefraction2Table.style.display = 'block'; // Show the table
  });
}

// Attach listeners to each input field (including the new ones)
attachInputFieldListener('rSPH');
attachInputFieldListener('rCYL');
attachInputFieldListener('rSPH1');
attachInputFieldListener('rCYL1');
attachInputFieldListener('lrSPH');
attachInputFieldListener('lrCYL');
attachInputFieldListener('lrSPH2');
attachInputFieldListener('lrCYL2');



// Handle table cell click to set the value in the active input field
nRefraction2Table.addEventListener('click', (event) => {
  if (event.target.tagName === 'TD' && event.target.textContent.trim() !== '') {
    if (currentInputField) {
      currentInputField.value = event.target.textContent;
    }
    nRefraction2Table.style.display = 'none'; // Hide the table after selection
  }
});

// Hide the table when clicking outside
document.addEventListener('click', (event) => {
  if (
    !nRefraction2Table.contains(event.target) && // Click is outside the table
    currentInputField !== event.target // Click is not on the current input field
  ) {
    nRefraction2Table.style.display = 'none';
  }
});




let currentInputFieldV = null; // Track the active input field for rV/A
const nRefractionTable = document.getElementById('nRefraction3'); // Table element for nRefraction

// Function to show the nRefraction table for a specific input field
function attachInputFieldVListener(inputId) {
  const inputField = document.getElementById(inputId);
  inputField.addEventListener('click', (event) => {
    if (currentInputFieldV !== event.target) {
      // Hide the table if a different input field is clicked
      nRefractionTable.style.display = 'none';
    }
    currentInputFieldV = event.target; // Set the active input field
    const rect = inputField.getBoundingClientRect();
    nRefractionTable.style.top = rect.bottom + 'px';
    nRefractionTable.style.left = rect.left + 'px';
    nRefractionTable.style.display = 'block'; // Show the table
  });
}

// Attach listeners to each input field for rV/A and rV/A2
attachInputFieldVListener('rV/A');
attachInputFieldVListener('rV/A2');

// Handle table cell click to set the value in the active input field
nRefractionTable.addEventListener('click', (event) => {
  if (event.target.tagName === 'TD' && event.target.textContent.trim() !== '') {
    if (currentInputFieldV) {
      currentInputFieldV.value = event.target.textContent;
    }
    nRefractionTable.style.display = 'none'; // Hide the table after selection
  }
});

// Hide the table when clicking outside
document.addEventListener('click', (event) => {
  if (
    !nRefractionTable.contains(event.target) && // Click is outside the table
    currentInputFieldV !== event.target // Click is not on the current input field
  ) {
    nRefractionTable.style.display = 'none';
  }
});





 </script>
 <script>
  // Function to show the selected tab
  function showTab(tab) {
      const contents = document.querySelectorAll('.symptoms-content');
      const buttons = document.querySelectorAll('.symptoms-types button');

      contents.forEach(content => content.classList.remove('active'));
      buttons.forEach(button => button.classList.remove('active'));

      document.getElementById(tab).classList.add('active');
      document.getElementById(tab + "Btn").classList.add('active');
  }

  // Function to show the selected diagnosis content
  function showDiagnosisContent(eye) {
      const contents = document.querySelectorAll('.diagnosis-content');
      const buttons = document.querySelectorAll('.diagnosis-buttons button');

      contents.forEach(content => content.style.display = 'none');
      buttons.forEach(button => {
          button.classList.remove('active');
          button.style.backgroundColor = 'white';
          button.style.color = 'black';
          button.style.border = '2px solid #6c757d';
      });

      document.getElementById(eye + '-diagnosis-content').style.display = 'block';
      document.getElementById(eye + '-diagnosis-btn').classList.add('active');
      document.getElementById(eye + '-diagnosis-btn').style.backgroundColor = 'green';
      document.getElementById(eye + '-diagnosis-btn').style.color = 'white';
      document.getElementById(eye + '-diagnosis-btn').style.border = '2px solid darkgreen';
  }

  // Default: Show Both Eyes tab and diagnosis on load
  showTab('both');
  showDiagnosisContent('both');

  


</script>

<script>
  let activeInput = null;

  function openTable(input, tableId) {
      const table = document.getElementById(tableId);
      activeInput = input;

      // Position the table near the input field
      const rect = input.getBoundingClientRect();
      table.style.left = `${rect.left + window.scrollX}px`;
      table.style.top = `${rect.bottom + window.scrollY}px`;
      table.style.display = "table";
  }

  function attachInputFieldListener(inputIds, tableId) {
      const table = document.getElementById(tableId);
      
      inputIds.forEach(inputId => {
          const inputField = document.getElementById(inputId);

          inputField.addEventListener('click', (event) => {
              if (activeInput !== event.target) {
                  table.style.display = 'none';
              }

              activeInput = event.target;
              const rect = inputField.getBoundingClientRect();
              table.style.left = `${rect.left + window.scrollX}px`;
              table.style.top = `${rect.bottom + window.scrollY}px`;
              table.style.display = 'table';
          });
      });

      table.addEventListener('click', (event) => {
          if (event.target.tagName === 'TD' && activeInput) {
              activeInput.value = event.target.textContent;
              table.style.display = 'none';
          }
      });

      document.addEventListener('click', (event) => {
          if (!table.contains(event.target) && activeInput !== event.target) {
              table.style.display = 'none';
          }
      });
  }

  attachInputFieldListener(['arAxis', 'arAxis1'], 'arRefraction');
  attachInputFieldListener(['ar1SPH', 'ar1CYL', 'ar1DV', 'ar1SPH1', 'ar1CYL1', 'ar1DV1'], 'raRefraction3');

  let activeTable = null;

function openTable(input) {
    // Close the previously open table
    if (activeTable) {
        activeTable.style.display = "none";
    }
    
    // Get the table element
    const table = document.getElementById("raRefraction");
    
    // Set the active input field
    activeInput = input;
    
    // Position the table near the input field
    const rect = input.getBoundingClientRect();
    table.style.left = `${rect.left + window.scrollX}px`;
    table.style.top = `${rect.bottom + window.scrollY}px`;
    table.style.display = "table";
    
    // Set the active table
    activeTable = table;
}

function selectValue(td) {
    if (activeInput) {
        activeInput.value = td.textContent;
    }
    
    // Hide the table after selection
    if (activeTable) {
        activeTable.style.display = "none";
        activeTable = null;
    }
}

// Close table if clicking outside
document.addEventListener("click", function(event) {
    if (activeTable && !activeTable.contains(event.target) && event.target.tagName !== "INPUT") {
        activeTable.style.display = "none";
        activeTable = null;
    }
});

</script>
<script>
  document.getElementById('imageUpload').addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        console.log("file");
          const reader = new FileReader();
          reader.onload = function(e) {
              const previewImg = document.getElementById('previewImg');
              previewImg.src = e.target.result;
              document.getElementById('imagePreview').style.display = 'block';
          };
          reader.readAsDataURL(file);
      }
  });










  function insertUnit(input) {
        // Remove any non-numeric characters except numbers
        let value = input.value.replace(/[^0-9/]/g, '');
        // If there's a value, append ' mmHg'
        if (value) {
            input.value = value + ' mmHg';
        }
    }



    function insertPulseUnit(input) {
        // Remove non-numeric characters except numbers
        let value = input.value.replace(/[^0-9]/g, '');

        // If there's a value, append ' /min'
        if (value) {
            input.value = value + ' /min';
        }
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</body>

</html>